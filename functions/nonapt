#!/bin/bash

DIR="$(dirname "$0")"

source $DIR/functions/non-apt/vim
source $DIR/functions/non-apt/pandoc
source $DIR/functions/non-apt/sourcecodepro
source $DIR/functions/non-apt/travis
source $DIR/functions/non-apt/rpackages

# Install non-apt packages
function nonapt {
    eval `resize`
    NONAPT=$(whiptail \
        --notags \
        --title "non-apt packages" \
        --menu "\nWhat non-apt packages would you like to install/update?" \
        --ok-button "Install/Update" \
        --cancel-button "Go Back" \
        $LINES $COLUMNS $(( $LINES - 12 )) \
        'vim'           '1. vim' \
        'pandoc'        '2. pandoc' \
        'sourcecodepro' '3. Source Code Pro' \
        'travis'        '4. travis-ci client' \
        'rpackages'     '5. R packages' \
        3>&1 1>&2 2>&3)
     
    exitstatus=$?
    if [ $exitstatus = 0 ]; then
        $NONAPT
    else
        main
    fi
}
